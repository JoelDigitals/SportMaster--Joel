{% extends "base.html" %}
{% block title %}{{ team.name }} — Trainer{% endblock %}
{% block content %}
<div class="card">
  <div class="flex justify-between items-center">
    <h1 class="text-2xl font-bold">{{ team.name }} — Trainerbereich</h1>
    <div>
      <a href="{% url 'team_detail_members' team.slug %}" class="px-3 py-1 border rounded">Mitglieder</a>
      <a href="{% url 'team_public' team.slug %}" class="px-3 py-1 border rounded">Öffentlich</a>
    </div>
  </div>

  <section class="mt-6">
    <h2 class="font-semibold">Aufstellungen</h2>
    <div class="mt-3 flex gap-2">
      <a href="{% url 'lineup_create' team.slug %}" class="px-3 py-1 bg-green-600 text-white rounded">Neue Aufstellung</a>
    </div>
    <ul class="mt-3 space-y-2">
      {% for l in lineups %}
        <li class="p-3 border rounded flex justify-between">
          <div>
            <strong>{{ l.name }}</strong>
            <div class="muted text-xs">{{ l.date }}</div>
          </div>
          <div class="flex gap-2">
            <a href="{% url 'lineup_edit' team.slug l.pk %}" class="text-blue-600">Bearbeiten</a>
            <a href="{% url 'lineup_delete' team.slug l.pk %}" class="text-red-600">Löschen</a>
          </div>
        </li>
      {% empty %}
        <li class="muted">Keine Aufstellungen</li>
      {% endfor %}
    </ul>
  </section>

  <section class="mt-6">
    <h2 class="font-semibold">Trainings</h2>
    <div class="mt-3 flex gap-2">
      <a href="{% url 'training_event_create' team.slug %}" class="px-3 py-1 bg-yellow-600 text-white rounded">Einzelne Training</a>
      <a href="{% url 'training_series_create' team.slug %}" class="px-3 py-1 bg-indigo-600 text-white rounded">Trainingsserie</a>
    </div>
    <ul class="mt-3">
      {% for t in trainings|slice:":12" %}
        <li class="p-3 border rounded flex justify-between">
          <div>
            <div class="font-medium">{{ t.start|date:"d.m.Y H:i" }} — {{ t.location }}</div>
            <div class="muted text-sm">{{ t.note }}</div>
          </div>
          <div class="flex gap-2">
            <a href="{% url 'training_event_delete' team.slug t.pk %}" class="text-red-600">Löschen</a>
            <a href="{% url 'training_rsvp' team.slug t.pk %}" class="text-sm px-2 py-1 border rounded">RSVP Übersicht</a>
          </div>
        </li>
      {% empty %}
        <li class="muted">Keine Trainings</li>
      {% endfor %}
    </ul>
  </section>

  <section class="mt-6">
    <h2 class="font-semibold">Strafen & Kasse</h2>
    <div class="mt-3">
      <a href="{% url 'penalty_create' team.slug %}" class="px-3 py-1 bg-red-600 text-white rounded">Neue Strafe erfassen</a>
      <a href="{% url 'penalties_list' team.slug %}" class="px-3 py-1 border rounded">Strafenkatalog</a>
    </div>
  </section>
</div>
{% endblock %}
